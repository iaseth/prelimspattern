import Head from 'next/head';

import Header from '../Header';
import AbcdGraph from './AbcdGraph';
import TenYearBarGraph from './TenYearBarGraph';



export default function HomePage ({appdata}) {
	const {app} = appdata;

	const elevenRows = app.eleven.map((e, k) => {
		return (
			<tr key={k}>
				<td>{e.year}</td>
				<td>{e.nA}</td>
				<td>{e.nB}</td>
				<td>{e.nC}</td>
				<td>{e.nD}</td>
			</tr>
		);
	});

	const abcdProps = {
		app: app,
		getLabel: y => y.year,
		min: 15,
		max: 40
	};

	return (
		<div>
			<Head>
				<title>Prelims Pattern</title>
				<meta name="description" content="Generated by create next app" />
				<link rel="icon" href="/favicon.ico" />
			</Head>

			<Header page={app.asYear} />

			<section className="max-w-5xl mx-auto">
				<AbcdGraph app={app} getLabel={y => y.year} getData={(y) => y.nA} title="ABCD over the years" />

				<TenYearBarGraph app={app} getLabel={(y) => y.year} getData={(y) => y.nSimple} title="Number of Simple Questions" max={70} />
				<AbcdGraph app={app} getLabel={y => y.year} getData={(y) => y.nA} overall={true} filter={q => q.simple} title="Answer distribution for Simple Questions (%)" />

				<TenYearBarGraph app={app} getLabel={(y) => y.year} getData={(y) => y.nS} title="Number of Questions with Statements" max={70} />
				<AbcdGraph app={app} getLabel={y => y.year} getData={(y) => y.nA} overall={true} filter={q => q.statements} title="Answer distribution for Questions with Statements (%)" />

				<TenYearBarGraph app={app} getLabel={(y) => y.year} getData={(y) => y.nM} title="Matchings" />
				<TenYearBarGraph {...abcdProps}  getData={(y) => y.nA} title="Number of As" />
				<TenYearBarGraph {...abcdProps}  getData={(y) => y.nB} title="Number of Bs" />
				<TenYearBarGraph {...abcdProps}  getData={(y) => y.nC} title="Number of Cs" />
				<TenYearBarGraph {...abcdProps}  getData={(y) => y.nD} title="Number of Ds" />
			</section>

			<div className="h-20"></div>
		</div>
	);
}
